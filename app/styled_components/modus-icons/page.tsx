"use client";

import React, { useState } from "react";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { toast } from "sonner";

// All Modus Icons from modus-icon-names.md
const allIcons = [
  "accessibility",
  "accessibility_circle",
  "add",
  "add_bold",
  "add_circle",
  "add_heavy",
  "address",
  "advanced_instructions",
  "alarm_add",
  "alarm_off",
  "alarm_on",
  "alert",
  "alert_outlined",
  "align_bottom",
  "align_center_horiz",
  "align_center_vert",
  "align_left",
  "align_right",
  "align_top",
  "angle_90",
  "antenna",
  "apps",
  "arc",
  "arrow_back",
  "arrow_down",
  "arrow_down_circle",
  "arrow_expand_diagonal_left",
  "arrow_expand_diagonal_right",
  "arrow_left",
  "arrow_left_circle",
  "arrow_next",
  "arrow_right",
  "arrow_right_circle",
  "arrow_up",
  "arrow_up_circle",
  "artificial_intelligence",
  "backup_restore_cloud",
  "backup_restore_file",
  "bar_graph",
  "bar_graph_line",
  "bar_graph_square",
  "barcode",
  "battery_0_horizontal",
  "battery_0_vertical",
  "battery_25_horizontal",
  "battery_25_vertical",
  "battery_50_horizontal",
  "battery_50_vertical",
  "battery_75_horizontal",
  "battery_75_vertical",
  "battery_charging_horizontal",
  "battery_charging_vertical",
  "battery_full_horizontal",
  "battery_full_vertical",
  "between",
  "bolt",
  "bookings",
  "bookings_open",
  "box_select",
  "briefcase",
  "brightness",
  "brush",
  "bug",
  "bug_report",
  "building_corporate",
  "buildings",
  "calculate",
  "calculator",
  "calculator_symbols",
  "calendar",
  "calendar_add",
  "calendar_and_key",
  "calendar_blank",
  "calendar_booking",
  "calendar_cancel",
  "calendar_check",
  "calendar_clock",
  "calendar_event",
  "calendar_loading_unloading",
  "calendar_loading_unloading_date",
  "calendar_plus",
  "calendar_rebook",
  "calendar_reserve",
  "calendar_show",
  "calendar_time_slot",
  "calendar_week",
  "camera",
  "camera_disabled",
  "camera_photo_add",
  "cancel_circle",
  "cancel_square",
  "cancel_square_outlined",
  "caret_down",
  "caret_down_bold",
  "caret_left",
  "caret_left_bold",
  "caret_right",
  "caret_right_bold",
  "caret_up",
  "caret_up_bold",
  "cell_merge",
  "cell_properties",
  "cell_split",
  "certificate",
  "chat",
  "check",
  "check_bold",
  "check_circle",
  "check_circle_outlined",
  "check_heavy",
  "chevron_double_down",
  "chevron_double_left",
  "chevron_double_right",
  "chevron_double_up",
  "chevron_left",
  "chevron_left_bold",
  "chevron_right",
  "chevron_right_bold",
  "circle_notch",
  "circle_outline",
  "clipboard",
  "clipboard_actions",
  "clipboard_check",
  "clipboard_empty",
  "clipboard_planning",
  "clock",
  "clock_add",
  "clock_checkmark",
  "clock_delay_warning",
  "clock_delayed",
  "clock_locked",
  "clock_question_mark",
  "close",
  "close_bold",
  "close_heavy",
  "cloud",
  "cloud_connected",
  "cloud_disconnected",
  "cloud_download",
  "cloud_upload",
  "code",
  "coffee_cup",
  "collapse",
  "collapse_bold",
  "color_picker",
  "column_copy",
  "column_cut",
  "column_delete",
  "column_insert_after",
  "column_insert_before",
  "column_paste_after",
  "column_paste_before",
  "column_properties",
  "columns",
  "combine",
  "comment",
  "comment_add",
  "comment_empty",
  "comment_message",
  "comment_message_disabled",
  "compare_arrows",
  "compass",
  "component",
  "contacts",
  "contrast",
  "copy_content",
  "costs",
  "credit_card",
  "crop",
  "cube",
  "curly_brackets",
  "cursor",
  "cursor_add",
  "cursor_remove",
  "dashboard",
  "data_missing",
  "data_transfer_off",
  "day_mostly_cloudy",
  "day_partly_cloudy",
  "delete",
  "delivery_truck",
  "delivery_truck_allocate",
  "delivery_truck_motion",
  "document",
  "download",
  "download_line",
  "download_xls",
  "drag_corner",
  "drag_horizontal",
  "drag_indicator",
  "drag_vertical",
  "drivers",
  "drizzle",
  "drone",
  "earnings_statement",
  "edit_combination",
  "email",
  "email_add",
  "envelope",
  "eraser",
  "exclamation_mark",
  "expand",
  "expand_bold",
  "expand_less",
  "expand_less_bold",
  "expand_less_circle",
  "expand_more",
  "expand_more_bold",
  "expand_more_circle",
  "export",
  "factory",
  "fast_forward",
  "fast_rewind",
  "file",
  "file_bar_graph",
  "file_check_in",
  "file_check_out",
  "file_cloud",
  "file_copy",
  "file_edit",
  "file_merge",
  "file_missing",
  "file_new",
  "file_secure",
  "file_table",
  "file_type_bmpf",
  "file_type_csv",
  "file_type_cur",
  "file_type_doc",
  "file_type_ico",
  "file_type_key",
  "file_type_log",
  "file_type_numbers",
  "file_type_pdf",
  "file_type_pem",
  "file_type_rfi",
  "file_type_rfq",
  "file_type_rtf",
  "file_type_text",
  "file_type_tif",
  "file_type_tmp",
  "file_type_xls",
  "filter",
  "filter_list",
  "filter_off",
  "first_page",
  "flag",
  "flag_finish",
  "floorplan",
  "flowchart",
  "fog",
  "folder_closed",
  "folder_locked",
  "folder_new",
  "folder_open",
  "folder_personal",
  "folder_project",
  "folder_public",
  "folder_share",
  "folder_unlocked",
  "footprints",
  "forestry",
  "forklift",
  "frame",
  "freight_market",
  "freight_matching",
  "freight_trolley",
  "full_screen",
  "function",
  "gantt_chart",
  "gavel",
  "gears",
  "greater_than_equal_to",
  "group_items",
  "hail",
  "hail_heavy",
  "hail_light",
  "hammer",
  "hand",
  "hard_hat",
  "headset",
  "heart",
  "helicopter",
  "help",
  "help_outlined",
  "history",
  "home",
  "hourglass",
  "ice",
  "icons_shapes",
  "image",
  "image_add",
  "image_disabled",
  "image_scene",
  "in_cab_device",
  "in_field_device",
  "info",
  "info_outlined",
  "info_token",
  "inspect",
  "invoice",
  "invoice_euro",
  "invoice_pound",
  "invoice_yen",
  "item_begins_with",
  "item_contains",
  "item_does_not_contain",
  "item_does_not_equal",
  "item_ends_with",
  "item_equals",
  "key",
  "keyboard",
  "keyboard_keys",
  "labs",
  "language",
  "last_page",
  "launch",
  "launch_bold",
  "layer",
  "learn",
  "less_than_equal_to",
  "lightbulb_off",
  "lightbulb_on",
  "lightning",
  "line_diagonal",
  "line_graph",
  "link",
  "link_broken",
  "link_off",
  "list_bulleted",
  "list_numbered",
  "list_shapes",
  "location",
  "location_add",
  "location_add_multiple",
  "location_arrow",
  "location_disabled",
  "location_point",
  "lock",
  "lock_open",
  "magic_wand",
  "manage_accounts",
  "manage_people",
  "map",
  "map_2d",
  "map_marker",
  "map_marker_circle",
  "map_marker_multiple",
  "map_markers",
  "map_poi",
  "master_data",
  "megaphone",
  "menu",
  "menu_circle",
  "mic",
  "mix",
  "mobile_app_version",
  "monetarization",
  "moon",
  "more_circle",
  "more_horizontal",
  "more_vertical",
  "mouse",
  "move",
  "move_last_down",
  "move_last_left",
  "move_last_right",
  "move_last_up",
  "night_mostly_cloudy",
  "night_partly_cloudy",
  "no_package",
  "no_truck",
  "not_synced_bold",
  "notifications",
  "notifications_off",
  "object_mirror",
  "object_outline",
  "object_rotate",
  "offers",
  "overcast",
  "package",
  "package_delivered",
  "package_delivery",
  "package_missing",
  "package_pickup",
  "package_sent",
  "pager",
  "paint_bucket",
  "palette",
  "pan",
  "paper_plane",
  "paperclip",
  "password",
  "pause_circle",
  "payment_instant",
  "pen",
  "pencil",
  "people_add",
  "people_couple",
  "people_group",
  "person",
  "person_account",
  "person_add",
  "person_clock",
  "person_edit",
  "person_remove",
  "phone",
  "phone_call",
  "phone_hang_up",
  "phone_mobile",
  "pin",
  "pin_add",
  "pin_straight",
  "pin_straight_cancel",
  "play_circle",
  "point_marker_tool",
  "polygon",
  "polygon_area_tool",
  "polygon_concave",
  "polygon_cone",
  "polygon_drag_rectangle",
  "polygon_line_tool",
  "polygon_merge",
  "polygon_select",
  "printer",
  "pulse",
  "qr_code",
  "question",
  "quick_login",
  "rain",
  "rain_heavy",
  "rain_icy",
  "raindrop",
  "redo",
  "redo_bold",
  "refresh",
  "refresh_bold",
  "remove",
  "remove_bold",
  "remove_circle",
  "remove_heavy",
  "reply",
  "rewind",
  "row_add",
  "row_copy",
  "row_cut",
  "row_delete",
  "row_highlighted",
  "row_insert_after",
  "row_insert_before",
  "row_paste_after",
  "row_paste_before",
  "row_properties",
  "row_remove",
  "rows_show_less",
  "rows_show_more",
  "rss_feed",
  "ruler",
  "satellite",
  "save_as",
  "save_disk",
  "scan_barcode",
  "schema",
  "scissors",
  "screen",
  "screenshot",
  "search",
  "server",
  "server_round",
  "settings",
  "share",
  "shield",
  "shopping_cart",
  "shopping_cart_minus",
  "shopping_cart_plus",
  "shortcut",
  "shovel",
  "show_less_caret",
  "show_more_caret",
  "sign_in",
  "sign_out",
  "signal",
  "smiley_dissatisfied",
  "smiley_dissatisfied_outlined",
  "smiley_neutral",
  "smiley_neutral_outlined",
  "smiley_satisfied",
  "smiley_satisfied_outlined",
  "smiley_somewhat_dissatisfied",
  "smiley_somewhat_dissatisfied_outlined",
  "smiley_somewhat_satisfied",
  "smiley_somewhat_satisfied_outlined",
  "snow_heavy",
  "snow_light",
  "snow_particle",
  "snowflake",
  "snowflakes",
  "sort",
  "sort_alpha_down",
  "sort_alpha_up",
  "sort_arrow_down",
  "sort_arrow_up",
  "sort_down",
  "sort_up",
  "star",
  "star_half",
  "star_locked",
  "star_northern",
  "star_outlined",
  "stars",
  "stop_circle",
  "street_measurement",
  "submit_expense",
  "sun",
  "swap",
  "switch_account",
  "switch_left",
  "switch_right",
  "sync",
  "sync_bold",
  "sync_off",
  "table",
  "tablet",
  "tag",
  "tag_disabled",
  "template",
  "text_align_left",
  "text_align_right",
  "text_bold",
  "text_centered",
  "text_grow",
  "text_input",
  "text_input_long",
  "text_input_short",
  "text_italic",
  "text_marker",
  "text_shrink",
  "text_strikethrough",
  "text_truncated",
  "text_underlined",
  "thermometer_cold",
  "thermometer_hot",
  "thumbs_down",
  "thumbs_up",
  "thunderstorm_heavy",
  "thunderstorm_light",
  "ticket",
  "ticket_plane",
  "time_off_work",
  "time_slot_not_reserved",
  "time_slot_reserved",
  "timer",
  "timer_countdown",
  "timesheet",
  "timesheet_approve",
  "toggle_center",
  "toggle_left_panel",
  "toggle_off",
  "toggle_on",
  "toggle_right_panel",
  "traffic_cone",
  "tree_structure",
  "triangle_down",
  "triangle_left",
  "triangle_right",
  "triangle_up",
  "trimble_logo",
  "truck_add",
  "truck_warning_delay",
  "tune",
  "tune_circle",
  "uncombine",
  "undo",
  "undo_bold",
  "unfold_less",
  "unfold_more",
  "unit_selector",
  "unsorted_arrows",
  "update",
  "upload",
  "upload_xls",
  "user_account",
  "user_active",
  "user_guide",
  "user_inactive",
  "user_passkey",
  "user_permissions",
  "video",
  "video_add",
  "video_disabled",
  "view_grid",
  "view_list",
  "visibility_off",
  "visibility_on",
  "volume_down",
  "volume_mute",
  "volume_up",
  "vr_xr",
  "warehouse",
  "warning",
  "warning_outlined",
  "web",
  "wheelbarrow",
  "widgets",
  "wifi",
  "wifi_no_internet",
  "wifi_off",
  "wind",
  "window",
  "window_dock_undock",
  "window_fit",
  "window_resize",
  "window_side_panel",
  "window_template",
  "window_views",
  "window_wireframe",
  "wintery_mix",
  "wrench",
  "zoom_box",
  "zoom_in",
  "zoom_out",
  "2_layers",
  "2_layers_off",
  "360",
  "add_square",
  "archive_square",
  "auto_target",
  "avoidance_zone",
  "background_dark",
  "background_light",
  "base_station",
  "bullseye",
  "bullseye_off",
  "bullseye_warning",
  "clip",
  "compactor",
  "corner",
  "dashboard_tiles",
  "design_package",
  "device_cb460",
  "device_tsc7",
  "devices_group",
  "devices_status",
  "dozer",
  "easting",
  "edit_mode",
  "electric_meter_off",
  "electric_meter_off_outline",
  "electric_meter_outline_rounded",
  "electric_meter_rounded",
  "electric_meter_rounded_warn",
  "elevation",
  "gnss",
  "gnss_r8",
  "gnss_r8s_base",
  "gnss_rpt",
  "gnss_rts",
  "gnss_sps986",
  "gps",
  "grader",
  "hex",
  "horizontal_accuracy",
  "image_square",
  "image_square_off",
  "image_square_off_outline",
  "image_square_outline",
  "machine",
  "machines",
  "measure_up",
  "northing",
  "orbit",
  "orthogonal",
  "perspective",
  "prism_pole",
  "prism_pole_extend",
  "receiver_generic_error_filled",
  "receiver_generic_error_outline",
  "receiver_generic_filled",
  "receiver_generic_off_filled",
  "receiver_generic_off_outline",
  "receiver_generic_outline",
  "receiver_generic_warn_filled",
  "receiver_generic_warn_outline",
  "ri",
  "rpt",
  "rts",
  "rts_off",
  "rts_rpt",
  "select_area",
  "sx10",
  "sync_filled",
  "todo",
  "todo_add",
  "total_station",
  "total_station_lost",
  "unarchive_square",
  "vertical_accuracy",
  "view_2_rows",
  "view_3_column",
  "visibility_part_outline",
  "workers_queue",
  "x12",
  "x7",
  "x7_card",
  "x7_settings",
  "xr10",
  "zoom_center",
];

export default function ModusIconsPage() {
  const [searchTerm, setSearchTerm] = useState("");
  const [copiedIcon, setCopiedIcon] = useState<string | null>(null);

  // Filter icons based on search term
  const filteredIcons = allIcons.filter((icon) =>
    icon.toLowerCase().includes(searchTerm.toLowerCase())
  );

  // Copy icon name to clipboard
  const copyIconName = async (iconName: string) => {
    try {
      await navigator.clipboard.writeText(iconName);
      setCopiedIcon(iconName);
      toast.success(`"${iconName}" copied to clipboard!`);

      // Reset copied state after 2 seconds
      setTimeout(() => {
        setCopiedIcon(null);
      }, 2000);
    } catch (err) {
      console.error("Failed to copy text: ", err);
      toast.error("Failed to copy icon name");
    }
  };

  return (
    <div className="space-y-6">
      {/* Page Header */}
      <div className="space-y-2">
        <h1 className="text-3xl font-bold">Modus Icons</h1>
        <p className="text-muted-foreground">
          Browse and copy all available Modus icons. Click any icon to copy its
          name to clipboard.
        </p>
      </div>

      {/* Search */}
      <Card>
        <CardHeader>
          <CardTitle>Search Icons</CardTitle>
        </CardHeader>
        <CardContent>
          <Input
            type="text"
            placeholder="Search icons... (e.g., 'home', 'user', 'settings')"
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
            className="max-w-md"
          />
          <div className="mt-2 text-sm text-muted-foreground">
            Showing {filteredIcons.length} of {allIcons.length} icons
          </div>
        </CardContent>
      </Card>

      {/* Icons Grid */}
      <Card>
        <CardContent className="pt-6">
          {filteredIcons.length === 0 ? (
            <div className="text-center py-12">
              <i className="modus-icons text-4xl mb-4 text-muted-foreground">
                search
              </i>
              <h3 className="text-lg font-semibold mb-2">No icons found</h3>
              <p className="text-muted-foreground">
                Try a different search term or browse all available icons.
              </p>
            </div>
          ) : (
            <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">
              {filteredIcons.map((iconName) => (
                <div
                  key={iconName}
                  onClick={() => copyIconName(iconName)}
                  className={`
                    flex flex-col items-center justify-center p-4 rounded-lg border cursor-pointer
                    transition-all duration-200 hover:shadow-md hover:scale-105 hover:border-primary
                    ${
                      copiedIcon === iconName
                        ? "bg-accent/20 border-accent"
                        : "bg-card hover:bg-accent"
                    }
                  `}
                >
                  <i
                    className={`modus-icons text-2xl mb-2 ${
                      copiedIcon === iconName
                        ? "text-accent-foreground"
                        : "text-foreground"
                    }`}
                  >
                    {iconName}
                  </i>
                  <span
                    className={`text-xs text-center font-medium leading-tight w-full truncate ${
                      copiedIcon === iconName
                        ? "text-accent-foreground"
                        : "text-muted-foreground"
                    }`}
                    title={iconName}
                  >
                    {iconName}
                  </span>
                </div>
              ))}
            </div>
          )}
        </CardContent>
      </Card>
    </div>
  );
}
